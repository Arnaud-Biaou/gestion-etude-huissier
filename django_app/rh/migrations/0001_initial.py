# Generated by Django 5.2.8 on 2025-11-27 21:13

import datetime
import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="CategorieEmploye",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "code",
                    models.CharField(max_length=10, unique=True, verbose_name="Code"),
                ),
                ("libelle", models.CharField(max_length=100, verbose_name="Libellé")),
                (
                    "niveau",
                    models.IntegerField(default=1, verbose_name="Niveau hiérarchique"),
                ),
                (
                    "coefficient",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("100"),
                        max_digits=6,
                        verbose_name="Coefficient",
                    ),
                ),
                (
                    "salaire_minimum",
                    models.DecimalField(
                        decimal_places=0,
                        default=Decimal("52000"),
                        max_digits=12,
                        verbose_name="Salaire minimum",
                    ),
                ),
                (
                    "duree_essai_mois",
                    models.IntegerField(
                        default=1,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(3),
                        ],
                        verbose_name="Durée période d'essai (mois)",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
            ],
            options={
                "verbose_name": "Catégorie professionnelle",
                "verbose_name_plural": "Catégories professionnelles",
                "ordering": ["niveau", "code"],
            },
        ),
        migrations.CreateModel(
            name="ConfigurationRH",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "nom_entreprise",
                    models.CharField(
                        default="Étude d'Huissier",
                        max_length=200,
                        verbose_name="Nom de l'entreprise",
                    ),
                ),
                (
                    "adresse_entreprise",
                    models.TextField(blank=True, verbose_name="Adresse"),
                ),
                (
                    "telephone_entreprise",
                    models.CharField(
                        blank=True, max_length=20, verbose_name="Téléphone"
                    ),
                ),
                (
                    "email_entreprise",
                    models.EmailField(blank=True, max_length=254, verbose_name="Email"),
                ),
                (
                    "numero_cnss_employeur",
                    models.CharField(
                        blank=True, max_length=30, verbose_name="N° CNSS Employeur"
                    ),
                ),
                (
                    "numero_ifu_employeur",
                    models.CharField(
                        blank=True, max_length=20, verbose_name="N° IFU Employeur"
                    ),
                ),
                (
                    "jour_paiement_salaire",
                    models.IntegerField(
                        default=28,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(31),
                        ],
                        verbose_name="Jour de paiement des salaires",
                    ),
                ),
                (
                    "taux_risques_professionnels",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("1.0"),
                        max_digits=4,
                        verbose_name="Taux risques professionnels (%)",
                    ),
                ),
                (
                    "plafond_avance_salaire",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("50"),
                        max_digits=4,
                        verbose_name="Plafond avance salaire (%)",
                    ),
                ),
                (
                    "heure_debut_travail",
                    models.TimeField(
                        default=datetime.time(8, 0),
                        verbose_name="Heure début de travail",
                    ),
                ),
                (
                    "heure_fin_travail",
                    models.TimeField(
                        default=datetime.time(17, 0),
                        verbose_name="Heure fin de travail",
                    ),
                ),
                (
                    "tolerance_retard_minutes",
                    models.IntegerField(
                        default=15, verbose_name="Tolérance retard (minutes)"
                    ),
                ),
                (
                    "date_limite_dns",
                    models.IntegerField(
                        default=15, verbose_name="Date limite DNS (jour du mois)"
                    ),
                ),
                (
                    "date_limite_ipts",
                    models.IntegerField(
                        default=15, verbose_name="Date limite IPTS (jour du mois)"
                    ),
                ),
                (
                    "est_configure",
                    models.BooleanField(
                        default=False, verbose_name="Configuration terminée"
                    ),
                ),
                ("date_configuration", models.DateTimeField(blank=True, null=True)),
            ],
            options={
                "verbose_name": "Configuration RH",
                "verbose_name_plural": "Configuration RH",
            },
        ),
        migrations.CreateModel(
            name="CritereEvaluation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "code",
                    models.CharField(max_length=20, unique=True, verbose_name="Code"),
                ),
                ("libelle", models.CharField(max_length=100, verbose_name="Libellé")),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "coefficient",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("1"),
                        max_digits=4,
                        verbose_name="Coefficient",
                    ),
                ),
                ("actif", models.BooleanField(default=True, verbose_name="Actif")),
            ],
            options={
                "verbose_name": "Critère d'évaluation",
                "verbose_name_plural": "Critères d'évaluation",
                "ordering": ["libelle"],
            },
        ),
        migrations.CreateModel(
            name="DeclarationSociale",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "type_declaration",
                    models.CharField(
                        choices=[
                            ("dns_mensuelle", "DNS Mensuelle"),
                            ("dns_trimestrielle", "DNS Trimestrielle"),
                            ("disa", "DISA (Annuelle)"),
                            ("ipts_mensuel", "État IPTS Mensuel"),
                            ("das", "DAS (Annuelle)"),
                            ("vps_mensuel", "VPS Mensuel"),
                        ],
                        max_length=20,
                        verbose_name="Type de déclaration",
                    ),
                ),
                ("periode_debut", models.DateField(verbose_name="Début de période")),
                ("periode_fin", models.DateField(verbose_name="Fin de période")),
                ("annee", models.IntegerField(verbose_name="Année")),
                (
                    "trimestre",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(4),
                        ],
                        verbose_name="Trimestre",
                    ),
                ),
                (
                    "mois",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(12),
                        ],
                        verbose_name="Mois",
                    ),
                ),
                (
                    "nombre_salaries",
                    models.IntegerField(default=0, verbose_name="Nombre de salariés"),
                ),
                (
                    "masse_salariale",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Masse salariale",
                    ),
                ),
                (
                    "base_cotisable",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Base cotisable",
                    ),
                ),
                (
                    "cotisations_salariales",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Cotisations salariales",
                    ),
                ),
                (
                    "cotisations_patronales",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Cotisations patronales",
                    ),
                ),
                (
                    "total_cotisations",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Total cotisations",
                    ),
                ),
                (
                    "total_ipts",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Total IPTS",
                    ),
                ),
                (
                    "total_vps",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Total VPS",
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("brouillon", "Brouillon"),
                            ("genere", "Généré"),
                            ("transmis", "Transmis"),
                            ("paye", "Payé"),
                        ],
                        default="brouillon",
                        max_length=10,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "date_transmission",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date de transmission"
                    ),
                ),
                (
                    "date_paiement",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date de paiement"
                    ),
                ),
                (
                    "reference_paiement",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Référence paiement"
                    ),
                ),
                (
                    "fichier",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="declarations/",
                        verbose_name="Fichier généré",
                    ),
                ),
                (
                    "donnees",
                    models.JSONField(default=dict, verbose_name="Données détaillées"),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
            ],
            options={
                "verbose_name": "Déclaration sociale/fiscale",
                "verbose_name_plural": "Déclarations sociales/fiscales",
                "ordering": ["-annee", "-periode_debut"],
            },
        ),
        migrations.CreateModel(
            name="ElementPaie",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "code",
                    models.CharField(max_length=20, unique=True, verbose_name="Code"),
                ),
                ("libelle", models.CharField(max_length=100, verbose_name="Libellé")),
                (
                    "type_element",
                    models.CharField(
                        choices=[("gain", "Gain"), ("retenue", "Retenue")],
                        max_length=10,
                        verbose_name="Type",
                    ),
                ),
                (
                    "nature",
                    models.CharField(
                        choices=[
                            ("prime_anciennete", "Prime d'ancienneté"),
                            ("prime_responsabilite", "Prime de responsabilité"),
                            ("prime_rendement", "Prime de rendement"),
                            ("prime_deplacement", "Prime de déplacement"),
                            ("prime_transport", "Prime de transport"),
                            ("heures_sup", "Heures supplémentaires"),
                            ("indemnite_logement", "Indemnité de logement"),
                            ("avantage_nature", "Avantage en nature"),
                            ("autre_gain", "Autre gain"),
                            ("cnss_salariale", "Cotisation CNSS salariale"),
                            ("ipts", "IPTS"),
                            ("avance_salaire", "Avance sur salaire"),
                            ("pret", "Remboursement prêt"),
                            ("absence", "Retenue pour absence"),
                            ("autre_retenue", "Autre retenue"),
                        ],
                        max_length=30,
                        verbose_name="Nature",
                    ),
                ),
                (
                    "est_imposable",
                    models.BooleanField(default=True, verbose_name="Imposable"),
                ),
                (
                    "est_cotisable",
                    models.BooleanField(default=True, verbose_name="Cotisable CNSS"),
                ),
                (
                    "taux",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=6,
                        null=True,
                        verbose_name="Taux (%)",
                    ),
                ),
                (
                    "montant_fixe",
                    models.DecimalField(
                        blank=True,
                        decimal_places=0,
                        max_digits=12,
                        null=True,
                        verbose_name="Montant fixe",
                    ),
                ),
                ("actif", models.BooleanField(default=True, verbose_name="Actif")),
            ],
            options={
                "verbose_name": "Élément de paie",
                "verbose_name_plural": "Éléments de paie",
                "ordering": ["type_element", "libelle"],
            },
        ),
        migrations.CreateModel(
            name="Formation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("intitule", models.CharField(max_length=200, verbose_name="Intitulé")),
                (
                    "type_formation",
                    models.CharField(
                        choices=[
                            ("interne", "Formation interne"),
                            ("externe", "Formation externe"),
                            ("en_ligne", "Formation en ligne"),
                            ("seminaire", "Séminaire"),
                            ("conference", "Conférence"),
                        ],
                        max_length=20,
                        verbose_name="Type de formation",
                    ),
                ),
                (
                    "organisme",
                    models.CharField(
                        blank=True, max_length=200, verbose_name="Organisme formateur"
                    ),
                ),
                (
                    "formateur",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Formateur"
                    ),
                ),
                ("date_debut", models.DateField(verbose_name="Date de début")),
                ("date_fin", models.DateField(verbose_name="Date de fin")),
                (
                    "duree_heures",
                    models.IntegerField(
                        blank=True, null=True, verbose_name="Durée (heures)"
                    ),
                ),
                (
                    "lieu",
                    models.CharField(blank=True, max_length=200, verbose_name="Lieu"),
                ),
                (
                    "cout",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Coût (FCFA)",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                ("objectifs", models.TextField(blank=True, verbose_name="Objectifs")),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("planifiee", "Planifiée"),
                            ("en_cours", "En cours"),
                            ("terminee", "Terminée"),
                            ("annulee", "Annulée"),
                        ],
                        default="planifiee",
                        max_length=20,
                        verbose_name="Statut",
                    ),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
            ],
            options={
                "verbose_name": "Formation",
                "verbose_name_plural": "Formations",
                "ordering": ["-date_debut"],
            },
        ),
        migrations.CreateModel(
            name="Site",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("nom", models.CharField(max_length=100, verbose_name="Nom du site")),
                ("adresse", models.TextField(verbose_name="Adresse")),
                (
                    "telephone",
                    models.CharField(
                        blank=True, max_length=20, verbose_name="Téléphone"
                    ),
                ),
                (
                    "est_principal",
                    models.BooleanField(default=False, verbose_name="Site principal"),
                ),
                ("actif", models.BooleanField(default=True, verbose_name="Actif")),
            ],
            options={
                "verbose_name": "Site",
                "verbose_name_plural": "Sites",
                "ordering": ["-est_principal", "nom"],
            },
        ),
        migrations.CreateModel(
            name="TypeAbsence",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "code",
                    models.CharField(max_length=20, unique=True, verbose_name="Code"),
                ),
                ("libelle", models.CharField(max_length=100, verbose_name="Libellé")),
                (
                    "impacte_salaire",
                    models.BooleanField(
                        default=True, verbose_name="Impacte le salaire"
                    ),
                ),
                (
                    "taux_retenue",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("100"),
                        max_digits=5,
                        verbose_name="Taux de retenue (%)",
                    ),
                ),
                ("actif", models.BooleanField(default=True, verbose_name="Actif")),
            ],
            options={
                "verbose_name": "Type d'absence",
                "verbose_name_plural": "Types d'absences",
                "ordering": ["libelle"],
            },
        ),
        migrations.CreateModel(
            name="TypeConge",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "code",
                    models.CharField(max_length=20, unique=True, verbose_name="Code"),
                ),
                ("libelle", models.CharField(max_length=100, verbose_name="Libellé")),
                (
                    "duree_max",
                    models.IntegerField(
                        blank=True, null=True, verbose_name="Durée max (jours)"
                    ),
                ),
                (
                    "est_paye",
                    models.BooleanField(default=True, verbose_name="Congé payé"),
                ),
                (
                    "decompte_solde",
                    models.BooleanField(default=True, verbose_name="Décompte du solde"),
                ),
                (
                    "justificatif_requis",
                    models.BooleanField(
                        default=False, verbose_name="Justificatif requis"
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                ("actif", models.BooleanField(default=True, verbose_name="Actif")),
            ],
            options={
                "verbose_name": "Type de congé",
                "verbose_name_plural": "Types de congés",
                "ordering": ["libelle"],
            },
        ),
        migrations.CreateModel(
            name="TypeSanction",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "code",
                    models.CharField(max_length=20, unique=True, verbose_name="Code"),
                ),
                ("libelle", models.CharField(max_length=100, verbose_name="Libellé")),
                (
                    "niveau",
                    models.IntegerField(
                        choices=[
                            (1, "Niveau 1 - Avertissement"),
                            (2, "Niveau 2 - Blâme"),
                            (3, "Niveau 3 - Mise à pied"),
                            (4, "Niveau 4 - Licenciement"),
                        ],
                        verbose_name="Niveau de gravité",
                    ),
                ),
                (
                    "duree_max_jours",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        verbose_name="Durée max (jours) pour mise à pied",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "procedure",
                    models.TextField(blank=True, verbose_name="Procédure à suivre"),
                ),
            ],
            options={
                "verbose_name": "Type de sanction",
                "verbose_name_plural": "Types de sanctions",
                "ordering": ["niveau", "libelle"],
            },
        ),
        migrations.CreateModel(
            name="Employe",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "matricule",
                    models.CharField(
                        max_length=20, unique=True, verbose_name="Matricule interne"
                    ),
                ),
                ("nom", models.CharField(max_length=100, verbose_name="Nom")),
                ("prenoms", models.CharField(max_length=150, verbose_name="Prénoms")),
                ("date_naissance", models.DateField(verbose_name="Date de naissance")),
                (
                    "lieu_naissance",
                    models.CharField(max_length=100, verbose_name="Lieu de naissance"),
                ),
                (
                    "sexe",
                    models.CharField(
                        choices=[("M", "Masculin"), ("F", "Féminin")],
                        max_length=1,
                        verbose_name="Sexe",
                    ),
                ),
                (
                    "situation_matrimoniale",
                    models.CharField(
                        choices=[
                            ("celibataire", "Célibataire"),
                            ("marie", "Marié(e)"),
                            ("divorce", "Divorcé(e)"),
                            ("veuf", "Veuf/Veuve"),
                            ("union_libre", "Union libre"),
                        ],
                        default="celibataire",
                        max_length=20,
                        verbose_name="Situation matrimoniale",
                    ),
                ),
                (
                    "nombre_enfants",
                    models.IntegerField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="Nombre d'enfants à charge",
                    ),
                ),
                (
                    "nationalite",
                    models.CharField(
                        default="Béninoise", max_length=50, verbose_name="Nationalité"
                    ),
                ),
                (
                    "numero_cni",
                    models.CharField(
                        blank=True, max_length=30, verbose_name="N° CNI/Passeport"
                    ),
                ),
                ("adresse", models.TextField(verbose_name="Adresse complète")),
                (
                    "telephone",
                    models.CharField(max_length=20, verbose_name="Téléphone"),
                ),
                (
                    "telephone_secondaire",
                    models.CharField(
                        blank=True, max_length=20, verbose_name="Téléphone secondaire"
                    ),
                ),
                (
                    "email",
                    models.EmailField(blank=True, max_length=254, verbose_name="Email"),
                ),
                (
                    "photo",
                    models.ImageField(
                        blank=True,
                        null=True,
                        upload_to="employes/photos/",
                        verbose_name="Photo d'identité",
                    ),
                ),
                (
                    "contact_urgence_nom",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Contact urgence - Nom"
                    ),
                ),
                (
                    "contact_urgence_telephone",
                    models.CharField(
                        blank=True,
                        max_length=20,
                        verbose_name="Contact urgence - Téléphone",
                    ),
                ),
                (
                    "contact_urgence_relation",
                    models.CharField(
                        blank=True,
                        max_length=50,
                        verbose_name="Contact urgence - Lien de parenté",
                    ),
                ),
                ("date_embauche", models.DateField(verbose_name="Date d'embauche")),
                (
                    "date_fin_contrat",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date de fin (si CDD)"
                    ),
                ),
                (
                    "type_contrat",
                    models.CharField(
                        choices=[
                            ("cdi", "CDI - Contrat à Durée Indéterminée"),
                            ("cdd", "CDD - Contrat à Durée Déterminée"),
                            ("stage", "Contrat de stage"),
                            ("apprentissage", "Contrat d'apprentissage"),
                            ("temporaire", "Contrat de travail temporaire"),
                        ],
                        default="cdi",
                        max_length=20,
                        verbose_name="Type de contrat",
                    ),
                ),
                (
                    "salaire_base",
                    models.DecimalField(
                        decimal_places=0,
                        max_digits=12,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("52000"))
                        ],
                        verbose_name="Salaire de base (FCFA)",
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("actif", "Actif"),
                            ("en_conge", "En congé"),
                            ("suspendu", "Suspendu"),
                            ("parti", "Parti"),
                        ],
                        default="actif",
                        max_length=20,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "numero_cnss",
                    models.CharField(blank=True, max_length=30, verbose_name="N° CNSS"),
                ),
                (
                    "numero_ifu",
                    models.CharField(blank=True, max_length=20, verbose_name="N° IFU"),
                ),
                (
                    "numero_cip",
                    models.CharField(
                        blank=True, max_length=30, verbose_name="N° CIP (si applicable)"
                    ),
                ),
                (
                    "banque",
                    models.CharField(blank=True, max_length=100, verbose_name="Banque"),
                ),
                (
                    "rib_code_banque",
                    models.CharField(
                        blank=True, max_length=10, verbose_name="Code banque"
                    ),
                ),
                (
                    "rib_code_guichet",
                    models.CharField(
                        blank=True, max_length=10, verbose_name="Code guichet"
                    ),
                ),
                (
                    "rib_numero_compte",
                    models.CharField(
                        blank=True, max_length=30, verbose_name="N° compte"
                    ),
                ),
                (
                    "rib_cle",
                    models.CharField(blank=True, max_length=5, verbose_name="Clé RIB"),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                ("date_modification", models.DateTimeField(auto_now=True)),
                (
                    "categorie",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="employes",
                        to="rh.categorieemploye",
                        verbose_name="Catégorie professionnelle",
                    ),
                ),
                (
                    "superieur",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="subordonnes",
                        to="rh.employe",
                        verbose_name="Supérieur hiérarchique",
                    ),
                ),
                (
                    "utilisateur",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="employe_rh",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Compte utilisateur",
                    ),
                ),
            ],
            options={
                "verbose_name": "Employé",
                "verbose_name_plural": "Employés",
                "ordering": ["nom", "prenoms"],
            },
        ),
        migrations.CreateModel(
            name="DocumentEmploye",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "type_document",
                    models.CharField(
                        choices=[
                            ("contrat", "Contrat de travail"),
                            ("avenant", "Avenant au contrat"),
                            ("cv", "CV"),
                            ("diplome", "Diplôme"),
                            ("certificat_travail", "Certificat de travail antérieur"),
                            ("piece_identite", "Pièce d'identité"),
                            ("certificat_residence", "Certificat de résidence"),
                            ("photo", "Photo d'identité"),
                            ("attestation_cnss", "Attestation CNSS"),
                            ("bulletin_paie", "Bulletin de paie"),
                            ("evaluation", "Évaluation"),
                            ("sanction", "Document de sanction"),
                            ("formation", "Attestation de formation"),
                            ("autre", "Autre document"),
                        ],
                        max_length=30,
                        verbose_name="Type de document",
                    ),
                ),
                ("titre", models.CharField(max_length=200, verbose_name="Titre")),
                (
                    "fichier",
                    models.FileField(
                        upload_to="employes/documents/", verbose_name="Fichier"
                    ),
                ),
                (
                    "date_document",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date du document"
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                ("date_upload", models.DateTimeField(auto_now_add=True)),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="documents",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
            ],
            options={
                "verbose_name": "Document employé",
                "verbose_name_plural": "Documents employés",
                "ordering": ["-date_upload"],
            },
        ),
        migrations.CreateModel(
            name="Contrat",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "reference",
                    models.CharField(
                        max_length=50, unique=True, verbose_name="Référence contrat"
                    ),
                ),
                (
                    "type_contrat",
                    models.CharField(
                        choices=[
                            ("cdi", "CDI - Contrat à Durée Indéterminée"),
                            ("cdd", "CDD - Contrat à Durée Déterminée"),
                            ("stage", "Contrat de stage"),
                            ("apprentissage", "Contrat d'apprentissage"),
                            ("temporaire", "Contrat de travail temporaire"),
                        ],
                        max_length=20,
                        verbose_name="Type de contrat",
                    ),
                ),
                ("date_debut", models.DateField(verbose_name="Date de début")),
                (
                    "date_fin",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date de fin prévue"
                    ),
                ),
                (
                    "periode_essai_mois",
                    models.IntegerField(
                        default=1,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(6),
                        ],
                        verbose_name="Période d'essai (mois)",
                    ),
                ),
                (
                    "date_fin_essai",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date fin période d'essai"
                    ),
                ),
                (
                    "essai_renouvele",
                    models.BooleanField(
                        default=False, verbose_name="Période d'essai renouvelée"
                    ),
                ),
                (
                    "salaire_base",
                    models.DecimalField(
                        decimal_places=0, max_digits=12, verbose_name="Salaire de base"
                    ),
                ),
                (
                    "clauses_particulieres",
                    models.TextField(blank=True, verbose_name="Clauses particulières"),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("actif", "Actif"),
                            ("termine", "Terminé"),
                            ("suspendu", "Suspendu"),
                            ("annule", "Annulé"),
                        ],
                        default="actif",
                        max_length=20,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "fichier_contrat",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="contrats/",
                        verbose_name="Fichier contrat signé",
                    ),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                ("date_modification", models.DateTimeField(auto_now=True)),
                (
                    "categorie",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to="rh.categorieemploye",
                        verbose_name="Catégorie professionnelle",
                    ),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="contrats",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
            ],
            options={
                "verbose_name": "Contrat",
                "verbose_name_plural": "Contrats",
                "ordering": ["-date_debut"],
            },
        ),
        migrations.CreateModel(
            name="BulletinPaie",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "reference",
                    models.CharField(
                        max_length=50, unique=True, verbose_name="Référence"
                    ),
                ),
                (
                    "salaire_base",
                    models.DecimalField(
                        decimal_places=0, max_digits=12, verbose_name="Salaire de base"
                    ),
                ),
                (
                    "jours_travailles",
                    models.IntegerField(default=26, verbose_name="Jours travaillés"),
                ),
                (
                    "jours_absence",
                    models.IntegerField(default=0, verbose_name="Jours d'absence"),
                ),
                (
                    "heures_supplementaires",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=6,
                        verbose_name="Heures supplémentaires",
                    ),
                ),
                (
                    "total_gains",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Total gains",
                    ),
                ),
                (
                    "salaire_brut",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Salaire brut",
                    ),
                ),
                (
                    "base_cotisable",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Base cotisable CNSS",
                    ),
                ),
                (
                    "base_imposable",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Base imposable",
                    ),
                ),
                (
                    "cnss_salariale",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="CNSS salariale",
                    ),
                ),
                (
                    "cnss_patronale",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="CNSS patronale",
                    ),
                ),
                (
                    "ipts",
                    models.DecimalField(
                        decimal_places=0, default=0, max_digits=12, verbose_name="IPTS"
                    ),
                ),
                (
                    "vps",
                    models.DecimalField(
                        decimal_places=0, default=0, max_digits=12, verbose_name="VPS"
                    ),
                ),
                (
                    "total_retenues",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Total retenues",
                    ),
                ),
                (
                    "net_a_payer",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Net à payer",
                    ),
                ),
                (
                    "cumul_brut",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Cumul brut annuel",
                    ),
                ),
                (
                    "cumul_cnss",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Cumul CNSS annuel",
                    ),
                ),
                (
                    "cumul_ipts",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Cumul IPTS annuel",
                    ),
                ),
                (
                    "cumul_net",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=15,
                        verbose_name="Cumul net annuel",
                    ),
                ),
                (
                    "mode_paiement",
                    models.CharField(
                        choices=[
                            ("virement", "Virement bancaire"),
                            ("especes", "Espèces"),
                            ("cheque", "Chèque"),
                        ],
                        default="virement",
                        max_length=20,
                        verbose_name="Mode de paiement",
                    ),
                ),
                (
                    "date_paiement",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date de paiement"
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("brouillon", "Brouillon"),
                            ("valide", "Validé"),
                            ("paye", "Payé"),
                            ("annule", "Annulé"),
                        ],
                        default="brouillon",
                        max_length=10,
                        verbose_name="Statut",
                    ),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                ("date_modification", models.DateTimeField(auto_now=True)),
                (
                    "valide_par",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Validé par",
                    ),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="bulletins",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
            ],
            options={
                "verbose_name": "Bulletin de paie",
                "verbose_name_plural": "Bulletins de paie",
                "ordering": ["-periode__annee", "-periode__mois", "employe__nom"],
            },
        ),
        migrations.CreateModel(
            name="Evaluation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("date_evaluation", models.DateField(verbose_name="Date d'évaluation")),
                (
                    "periode_debut",
                    models.DateField(verbose_name="Début de période évaluée"),
                ),
                (
                    "periode_fin",
                    models.DateField(verbose_name="Fin de période évaluée"),
                ),
                (
                    "note_globale",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=4,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(20),
                        ],
                        verbose_name="Note globale (/20)",
                    ),
                ),
                (
                    "points_forts",
                    models.TextField(blank=True, verbose_name="Points forts"),
                ),
                (
                    "points_amelioration",
                    models.TextField(blank=True, verbose_name="Points à améliorer"),
                ),
                (
                    "commentaire_evaluateur",
                    models.TextField(blank=True, verbose_name="Commentaire évaluateur"),
                ),
                (
                    "commentaire_employe",
                    models.TextField(blank=True, verbose_name="Commentaire employé"),
                ),
                (
                    "objectifs_prochaine_periode",
                    models.TextField(
                        blank=True, verbose_name="Objectifs prochaine période"
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("planifiee", "Planifiée"),
                            ("en_cours", "En cours"),
                            ("terminee", "Terminée"),
                            ("validee", "Validée"),
                            ("annulee", "Annulée"),
                        ],
                        default="planifiee",
                        max_length=20,
                        verbose_name="Statut",
                    ),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                ("date_modification", models.DateTimeField(auto_now=True)),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="evaluations",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
                (
                    "evaluateur",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="evaluations_realisees",
                        to="rh.employe",
                        verbose_name="Évaluateur",
                    ),
                ),
            ],
            options={
                "verbose_name": "Évaluation",
                "verbose_name_plural": "Évaluations",
                "ordering": ["-date_evaluation"],
            },
        ),
        migrations.CreateModel(
            name="FinContrat",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "type_rupture",
                    models.CharField(
                        choices=[
                            ("demission", "Démission"),
                            (
                                "licenciement_personnel",
                                "Licenciement pour motif personnel",
                            ),
                            ("licenciement_economique", "Licenciement économique"),
                            ("licenciement_faute", "Licenciement pour faute"),
                            ("fin_cdd", "Fin de CDD"),
                            ("fin_essai", "Fin de période d'essai"),
                            ("retraite", "Départ à la retraite"),
                            ("deces", "Décès"),
                            ("rupture_conventionnelle", "Rupture conventionnelle"),
                        ],
                        max_length=30,
                        verbose_name="Type de rupture",
                    ),
                ),
                (
                    "date_notification",
                    models.DateField(verbose_name="Date de notification"),
                ),
                (
                    "date_fin_effective",
                    models.DateField(verbose_name="Date de fin effective"),
                ),
                ("motif", models.TextField(verbose_name="Motif")),
                (
                    "dispense_preavis",
                    models.BooleanField(
                        default=False, verbose_name="Dispense de préavis"
                    ),
                ),
                (
                    "duree_preavis_jours",
                    models.IntegerField(
                        default=0, verbose_name="Durée préavis (jours)"
                    ),
                ),
                (
                    "date_debut_preavis",
                    models.DateField(
                        blank=True, null=True, verbose_name="Début préavis"
                    ),
                ),
                (
                    "date_fin_preavis",
                    models.DateField(blank=True, null=True, verbose_name="Fin préavis"),
                ),
                (
                    "indemnite_preavis",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Indemnité de préavis",
                    ),
                ),
                (
                    "indemnite_licenciement",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Indemnité de licenciement",
                    ),
                ),
                (
                    "indemnite_conges",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Indemnité compensatrice de congés",
                    ),
                ),
                (
                    "prorata_13eme_mois",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Prorata 13ème mois",
                    ),
                ),
                (
                    "autres_indemnites",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Autres indemnités",
                    ),
                ),
                (
                    "total_solde_compte",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Total solde de tout compte",
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("en_cours", "Procédure en cours"),
                            ("notifie", "Notifié"),
                            ("preavis", "En préavis"),
                            ("solde", "Soldé"),
                            ("termine", "Terminé"),
                        ],
                        default="en_cours",
                        max_length=20,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "lettre_licenciement",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="fins_contrat/lettres/",
                        verbose_name="Lettre de licenciement/démission",
                    ),
                ),
                (
                    "certificat_travail",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="fins_contrat/certificats/",
                        verbose_name="Certificat de travail",
                    ),
                ),
                (
                    "solde_tout_compte",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="fins_contrat/soldes/",
                        verbose_name="Solde de tout compte",
                    ),
                ),
                (
                    "recu_solde_compte",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="fins_contrat/recus/",
                        verbose_name="Reçu pour solde de tout compte",
                    ),
                ),
                (
                    "attestation_travail",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="fins_contrat/attestations/",
                        verbose_name="Attestation de travail",
                    ),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                (
                    "contrat",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="fins",
                        to="rh.contrat",
                        verbose_name="Contrat",
                    ),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="fins_contrat",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
            ],
            options={
                "verbose_name": "Fin de contrat",
                "verbose_name_plural": "Fins de contrat",
                "ordering": ["-date_fin_effective"],
            },
        ),
        migrations.CreateModel(
            name="LigneBulletinPaie",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("libelle", models.CharField(max_length=200, verbose_name="Libellé")),
                (
                    "base",
                    models.DecimalField(
                        blank=True,
                        decimal_places=0,
                        max_digits=12,
                        null=True,
                        verbose_name="Base",
                    ),
                ),
                (
                    "taux",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=6,
                        null=True,
                        verbose_name="Taux (%)",
                    ),
                ),
                (
                    "montant",
                    models.DecimalField(
                        decimal_places=0, max_digits=12, verbose_name="Montant"
                    ),
                ),
                (
                    "bulletin",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="lignes",
                        to="rh.bulletinpaie",
                        verbose_name="Bulletin",
                    ),
                ),
                (
                    "element",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to="rh.elementpaie",
                        verbose_name="Élément de paie",
                    ),
                ),
            ],
            options={
                "verbose_name": "Ligne de bulletin",
                "verbose_name_plural": "Lignes de bulletin",
                "ordering": ["element__type_element", "id"],
            },
        ),
        migrations.CreateModel(
            name="PeriodePaie",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("annee", models.IntegerField(verbose_name="Année")),
                (
                    "mois",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(12),
                        ],
                        verbose_name="Mois",
                    ),
                ),
                ("date_debut", models.DateField(verbose_name="Date de début")),
                ("date_fin", models.DateField(verbose_name="Date de fin")),
                (
                    "statut",
                    models.CharField(
                        choices=[("ouvert", "Ouvert"), ("cloture", "Clôturé")],
                        default="ouvert",
                        max_length=10,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "date_cloture",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Date de clôture"
                    ),
                ),
            ],
            options={
                "verbose_name": "Période de paie",
                "verbose_name_plural": "Périodes de paie",
                "ordering": ["-annee", "-mois"],
                "unique_together": {("annee", "mois")},
            },
        ),
        migrations.AddField(
            model_name="bulletinpaie",
            name="periode",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="bulletins",
                to="rh.periodepaie",
                verbose_name="Période",
            ),
        ),
        migrations.CreateModel(
            name="Poste",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "code",
                    models.CharField(max_length=20, unique=True, verbose_name="Code"),
                ),
                ("libelle", models.CharField(max_length=100, verbose_name="Libellé")),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description du poste"),
                ),
                (
                    "responsabilites",
                    models.TextField(blank=True, verbose_name="Responsabilités"),
                ),
                (
                    "competences_requises",
                    models.TextField(blank=True, verbose_name="Compétences requises"),
                ),
                ("actif", models.BooleanField(default=True, verbose_name="Actif")),
                (
                    "categorie",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="postes",
                        to="rh.categorieemploye",
                        verbose_name="Catégorie",
                    ),
                ),
            ],
            options={
                "verbose_name": "Poste",
                "verbose_name_plural": "Postes",
                "ordering": ["categorie__niveau", "libelle"],
            },
        ),
        migrations.AddField(
            model_name="employe",
            name="poste",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.PROTECT,
                related_name="employes",
                to="rh.poste",
                verbose_name="Poste/Fonction",
            ),
        ),
        migrations.AddField(
            model_name="contrat",
            name="poste",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                to="rh.poste",
                verbose_name="Poste",
            ),
        ),
        migrations.CreateModel(
            name="AvenantContrat",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "reference",
                    models.CharField(
                        max_length=50, unique=True, verbose_name="Référence avenant"
                    ),
                ),
                (
                    "type_avenant",
                    models.CharField(
                        choices=[
                            ("salaire", "Modification de salaire"),
                            ("poste", "Changement de poste"),
                            ("site", "Changement de site"),
                            ("categorie", "Changement de catégorie"),
                            ("horaires", "Modification des horaires"),
                            ("renouvellement", "Renouvellement CDD"),
                            ("autre", "Autre modification"),
                        ],
                        max_length=20,
                        verbose_name="Type d'avenant",
                    ),
                ),
                ("date_effet", models.DateField(verbose_name="Date d'effet")),
                (
                    "description",
                    models.TextField(verbose_name="Description des modifications"),
                ),
                (
                    "ancien_salaire",
                    models.DecimalField(
                        blank=True,
                        decimal_places=0,
                        max_digits=12,
                        null=True,
                        verbose_name="Ancien salaire",
                    ),
                ),
                (
                    "nouveau_salaire",
                    models.DecimalField(
                        blank=True,
                        decimal_places=0,
                        max_digits=12,
                        null=True,
                        verbose_name="Nouveau salaire",
                    ),
                ),
                (
                    "fichier_avenant",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="avenants/",
                        verbose_name="Fichier avenant signé",
                    ),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                (
                    "contrat",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="avenants",
                        to="rh.contrat",
                        verbose_name="Contrat",
                    ),
                ),
                (
                    "ancien_poste",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="avenants_ancien",
                        to="rh.poste",
                        verbose_name="Ancien poste",
                    ),
                ),
                (
                    "nouveau_poste",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="avenants_nouveau",
                        to="rh.poste",
                        verbose_name="Nouveau poste",
                    ),
                ),
            ],
            options={
                "verbose_name": "Avenant",
                "verbose_name_plural": "Avenants",
                "ordering": ["-date_effet"],
            },
        ),
        migrations.CreateModel(
            name="Pret",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "reference",
                    models.CharField(
                        max_length=50, unique=True, verbose_name="Référence"
                    ),
                ),
                (
                    "type_pret",
                    models.CharField(
                        choices=[
                            ("avance", "Avance sur salaire"),
                            ("pret", "Prêt employé"),
                        ],
                        max_length=20,
                        verbose_name="Type",
                    ),
                ),
                (
                    "montant",
                    models.DecimalField(
                        decimal_places=0, max_digits=12, verbose_name="Montant"
                    ),
                ),
                ("motif", models.TextField(verbose_name="Motif")),
                ("date_demande", models.DateField(verbose_name="Date de demande")),
                (
                    "date_accord",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date d'accord"
                    ),
                ),
                (
                    "nombre_echeances",
                    models.IntegerField(default=1, verbose_name="Nombre d'échéances"),
                ),
                (
                    "montant_echeance",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Montant par échéance",
                    ),
                ),
                (
                    "date_premiere_echeance",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date 1ère échéance"
                    ),
                ),
                (
                    "montant_rembourse",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Montant remboursé",
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("en_attente", "En attente"),
                            ("approuve", "Approuvé"),
                            ("refuse", "Refusé"),
                            ("en_cours", "En cours de remboursement"),
                            ("solde", "Soldé"),
                            ("annule", "Annulé"),
                        ],
                        default="en_attente",
                        max_length=20,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "motif_refus",
                    models.TextField(blank=True, verbose_name="Motif de refus"),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                (
                    "approuve_par",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Approuvé par",
                    ),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="prets",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
            ],
            options={
                "verbose_name": "Prêt/Avance",
                "verbose_name_plural": "Prêts/Avances",
                "ordering": ["-date_demande"],
            },
        ),
        migrations.AddField(
            model_name="employe",
            name="site",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="employes",
                to="rh.site",
                verbose_name="Site d'affectation",
            ),
        ),
        migrations.AddField(
            model_name="contrat",
            name="site",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="rh.site",
                verbose_name="Site d'affectation",
            ),
        ),
        migrations.CreateModel(
            name="Absence",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("date_debut", models.DateField(verbose_name="Date de début")),
                ("date_fin", models.DateField(verbose_name="Date de fin")),
                (
                    "nombre_jours",
                    models.DecimalField(
                        decimal_places=2, max_digits=5, verbose_name="Nombre de jours"
                    ),
                ),
                (
                    "justifie",
                    models.BooleanField(default=False, verbose_name="Justifiée"),
                ),
                (
                    "justificatif",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="absences/justificatifs/",
                        verbose_name="Justificatif",
                    ),
                ),
                ("motif", models.TextField(blank=True, verbose_name="Motif")),
                (
                    "retenue_calculee",
                    models.DecimalField(
                        decimal_places=0,
                        default=0,
                        max_digits=12,
                        verbose_name="Retenue calculée",
                    ),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="absences",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
                (
                    "type_absence",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to="rh.typeabsence",
                        verbose_name="Type d'absence",
                    ),
                ),
            ],
            options={
                "verbose_name": "Absence",
                "verbose_name_plural": "Absences",
                "ordering": ["-date_debut"],
            },
        ),
        migrations.CreateModel(
            name="Conge",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("date_debut", models.DateField(verbose_name="Date de début")),
                ("date_fin", models.DateField(verbose_name="Date de fin")),
                ("nombre_jours", models.IntegerField(verbose_name="Nombre de jours")),
                ("motif", models.TextField(blank=True, verbose_name="Motif")),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("en_attente", "En attente"),
                            ("approuve_n1", "Approuvé N+1"),
                            ("approuve", "Approuvé"),
                            ("refuse", "Refusé"),
                            ("annule", "Annulé"),
                            ("en_cours", "En cours"),
                            ("termine", "Terminé"),
                        ],
                        default="en_attente",
                        max_length=20,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "date_approbation_n1",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Date approbation N+1"
                    ),
                ),
                (
                    "date_approbation",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Date approbation"
                    ),
                ),
                (
                    "motif_refus",
                    models.TextField(blank=True, verbose_name="Motif de refus"),
                ),
                (
                    "justificatif",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="conges/justificatifs/",
                        verbose_name="Justificatif",
                    ),
                ),
                ("date_demande", models.DateTimeField(auto_now_add=True)),
                ("date_modification", models.DateTimeField(auto_now=True)),
                (
                    "approuve_par",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="conges_approuves",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Approuvé par",
                    ),
                ),
                (
                    "approuve_par_n1",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="conges_approuves_n1",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Approuvé par (N+1)",
                    ),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="conges",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
                (
                    "type_conge",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to="rh.typeconge",
                        verbose_name="Type de congé",
                    ),
                ),
            ],
            options={
                "verbose_name": "Congé",
                "verbose_name_plural": "Congés",
                "ordering": ["-date_debut"],
            },
        ),
        migrations.CreateModel(
            name="Sanction",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "reference",
                    models.CharField(
                        max_length=50, unique=True, verbose_name="Référence"
                    ),
                ),
                ("date_faits", models.DateField(verbose_name="Date des faits")),
                ("motif", models.TextField(verbose_name="Motif détaillé")),
                (
                    "date_convocation",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date de convocation"
                    ),
                ),
                (
                    "date_entretien",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date de l'entretien"
                    ),
                ),
                (
                    "compte_rendu_entretien",
                    models.TextField(blank=True, verbose_name="Compte-rendu entretien"),
                ),
                (
                    "date_notification",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date de notification"
                    ),
                ),
                (
                    "duree_mise_pied",
                    models.IntegerField(
                        blank=True, null=True, verbose_name="Durée mise à pied (jours)"
                    ),
                ),
                (
                    "date_debut_mise_pied",
                    models.DateField(
                        blank=True, null=True, verbose_name="Début mise à pied"
                    ),
                ),
                (
                    "date_fin_mise_pied",
                    models.DateField(
                        blank=True, null=True, verbose_name="Fin mise à pied"
                    ),
                ),
                (
                    "reponse_employe",
                    models.TextField(blank=True, verbose_name="Réponse de l'employé"),
                ),
                (
                    "date_reponse_employe",
                    models.DateField(
                        blank=True, null=True, verbose_name="Date réponse employé"
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("en_cours", "Procédure en cours"),
                            ("notifiee", "Notifiée"),
                            ("executee", "Exécutée"),
                            ("annulee", "Annulée"),
                            ("contestee", "Contestée"),
                        ],
                        default="en_cours",
                        max_length=20,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "lettre_convocation",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="sanctions/convocations/",
                        verbose_name="Lettre de convocation",
                    ),
                ),
                (
                    "lettre_notification",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="sanctions/notifications/",
                        verbose_name="Lettre de notification",
                    ),
                ),
                ("date_creation", models.DateTimeField(auto_now_add=True)),
                (
                    "decideur",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Décideur",
                    ),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="sanctions",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
                (
                    "type_sanction",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to="rh.typesanction",
                        verbose_name="Type de sanction",
                    ),
                ),
            ],
            options={
                "verbose_name": "Sanction",
                "verbose_name_plural": "Sanctions",
                "ordering": ["-date_faits"],
            },
        ),
        migrations.CreateModel(
            name="NoteCritereEvaluation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "note",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=4,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(20),
                        ],
                        verbose_name="Note (/20)",
                    ),
                ),
                (
                    "commentaire",
                    models.TextField(blank=True, verbose_name="Commentaire"),
                ),
                (
                    "critere",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        to="rh.critereevaluation",
                        verbose_name="Critère",
                    ),
                ),
                (
                    "evaluation",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="notes_criteres",
                        to="rh.evaluation",
                        verbose_name="Évaluation",
                    ),
                ),
            ],
            options={
                "verbose_name": "Note de critère",
                "verbose_name_plural": "Notes de critères",
                "unique_together": {("evaluation", "critere")},
            },
        ),
        migrations.CreateModel(
            name="ParticipationFormation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "date_inscription",
                    models.DateField(
                        auto_now_add=True, verbose_name="Date d'inscription"
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("inscrit", "Inscrit"),
                            ("present", "Présent"),
                            ("absent", "Absent"),
                            ("reussi", "Réussi"),
                            ("echec", "Échec"),
                        ],
                        default="inscrit",
                        max_length=10,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "note",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=4,
                        null=True,
                        verbose_name="Note",
                    ),
                ),
                (
                    "commentaire",
                    models.TextField(blank=True, verbose_name="Commentaire"),
                ),
                (
                    "attestation",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="formations/attestations/",
                        verbose_name="Attestation",
                    ),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="formations_suivies",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
                (
                    "formation",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="participations",
                        to="rh.formation",
                        verbose_name="Formation",
                    ),
                ),
            ],
            options={
                "verbose_name": "Participation formation",
                "verbose_name_plural": "Participations formations",
                "unique_together": {("formation", "employe")},
            },
        ),
        migrations.AlterUniqueTogether(
            name="bulletinpaie",
            unique_together={("employe", "periode")},
        ),
        migrations.CreateModel(
            name="Pointage",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("date", models.DateField(verbose_name="Date")),
                (
                    "heure_arrivee",
                    models.TimeField(
                        blank=True, null=True, verbose_name="Heure d'arrivée"
                    ),
                ),
                (
                    "heure_depart",
                    models.TimeField(
                        blank=True, null=True, verbose_name="Heure de départ"
                    ),
                ),
                ("present", models.BooleanField(default=True, verbose_name="Présent")),
                (
                    "retard_minutes",
                    models.IntegerField(default=0, verbose_name="Retard (minutes)"),
                ),
                (
                    "heures_travaillees",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=4,
                        verbose_name="Heures travaillées",
                    ),
                ),
                (
                    "commentaire",
                    models.TextField(blank=True, verbose_name="Commentaire"),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="pointages",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
            ],
            options={
                "verbose_name": "Pointage",
                "verbose_name_plural": "Pointages",
                "ordering": ["-date", "employe__nom"],
                "unique_together": {("employe", "date")},
            },
        ),
        migrations.CreateModel(
            name="EcheancePret",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("numero", models.IntegerField(verbose_name="N° échéance")),
                ("date_echeance", models.DateField(verbose_name="Date d'échéance")),
                (
                    "montant",
                    models.DecimalField(
                        decimal_places=0, max_digits=12, verbose_name="Montant"
                    ),
                ),
                (
                    "statut",
                    models.CharField(
                        choices=[
                            ("a_venir", "À venir"),
                            ("preleve", "Prélevé"),
                            ("annule", "Annulé"),
                        ],
                        default="a_venir",
                        max_length=10,
                        verbose_name="Statut",
                    ),
                ),
                (
                    "bulletin",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="echeances_pret",
                        to="rh.bulletinpaie",
                        verbose_name="Bulletin de paie",
                    ),
                ),
                (
                    "pret",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="echeances",
                        to="rh.pret",
                        verbose_name="Prêt",
                    ),
                ),
            ],
            options={
                "verbose_name": "Échéance de prêt",
                "verbose_name_plural": "Échéances de prêt",
                "ordering": ["pret", "numero"],
                "unique_together": {("pret", "numero")},
            },
        ),
        migrations.CreateModel(
            name="SoldeConge",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("annee", models.IntegerField(verbose_name="Année")),
                (
                    "jours_acquis",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=5,
                        verbose_name="Jours acquis",
                    ),
                ),
                (
                    "jours_pris",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=5,
                        verbose_name="Jours pris",
                    ),
                ),
                (
                    "jours_reportes",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=5,
                        verbose_name="Jours reportés année précédente",
                    ),
                ),
                (
                    "employe",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="soldes_conges",
                        to="rh.employe",
                        verbose_name="Employé",
                    ),
                ),
            ],
            options={
                "verbose_name": "Solde de congés",
                "verbose_name_plural": "Soldes de congés",
                "ordering": ["-annee", "employe__nom"],
                "unique_together": {("employe", "annee")},
            },
        ),
    ]
